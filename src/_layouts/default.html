<!doctype html>
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#"
      itemscope itemtype="https://schema.org/WebSite">
  <head>
    {% if jekyll.environment == 'development' %}
      {% include livereload.html %}
    {% endif %}
    {% include head.html %}
    {% stylesheet main %}
    {% javascript fonts %}
    {% javascript webfontloader/webfontloader %}
    {% javascript webcomponentsjs/webcomponents-lite %}
    <link rel="import" href="{% asset_path polymer-vulcanized %}">
    <link rel="import" href="{% asset_path vulcanized %}">
  </head>
  <body>
    {{ content }}

    {% include service-worker.html %}

  {% if jekyll.environment == 'development' %}
    {% javascript vendor/modernizr defer %}
  {% elsif jekyll.environment == 'production' %}
    <script src="{{ site.assets.cdn }}{{ site.assets.prefix }}/modernizr.js" defer>
  {% endif %}

  {% if jekyll.environment == 'production' %}
    <script src="{{ site.data.vendor.google.analytics.src }}" defer></script>
  {% endif %}

  {% javascript main defer %}

  {% if page.code %}
    {% javascript vendor/prism defer %}
  {% endif %}

  {% if page.math %}
    {% javascript vendor/katex async %}
  {% endif %}

  {% if page.gist %}
    {% javascript jquery defer %}
    {% javascript gist-async/js/gist-async.min defer %}
  {% endif %}

  {% if page.comments %}
    {% if jekyll.environment == 'production' %}
      {% assign shortname = site.data.vendor.disqus.shortname %}
    {% else %}
      {% assign shortname = site.data.vendor.disqus.devshortname %}
    {% endif %}
    <script src="https://{{ shortname }}.disqus.com/embed.js" defer></script>
  {% endif %}
  </body>
</html>
