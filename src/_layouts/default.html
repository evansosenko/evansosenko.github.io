<!doctype html>
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#"
      itemscope itemtype="https://schema.org/WebSite">
  <head>
    {% if jekyll.environment == 'development' %}
      {% include livereload.html %}
    {% endif %}
    {% include head.html %}
    {% stylesheet main %}
    <noscript>{% stylesheet noscript %}</noscript>
    {% javascript webcomponentsjs/webcomponents-lite %}
    <!-- imported by vulcanize {% asset_path polymer-vulcanized %} -->
    <link rel="import" href="{% asset_path vulcanized %}">
  </head>
  <body>
    {{ content }}

    {% include service-worker.html %}

  {% if jekyll.environment == 'development' %}
    {% javascript vendor/modernizr defer %}
  {% elsif jekyll.environment == 'production' %}
    <script src="{{ site.assets.cdn }}{{ site.assets.prefix }}/modernizr.js"
            defer>
    </script>
  {% endif %}

  {% if jekyll.environment == 'production' %}
    {% javascript vendor/google-analytics async %}
  {% endif %}

  {% javascript main defer %}

  {% if page.code %}
    {% javascript vendor/prism data-manual async %}
  {% endif %}

  {% javascript fonts defer %}
  {% javascript webfontloader/webfontloader defer %}

  {% if page.math %}
    {% javascript vendor/katex defer %}
  {% endif %}

  {% if page.gist %}
    {% javascript jquery defer %}
    {% javascript gist-async/js/gist-async.min defer %}
  {% endif %}

  {% if page.comments %}
    {% javascript vendor/disqus async %}
  {% endif %}
  </body>
</html>
